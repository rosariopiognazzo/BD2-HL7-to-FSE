{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\rosar\\\\Desktop\\\\UNISA\\\\Magistrale - Informatica\\\\II semestre\\\\BD2\\\\prog2\\\\frontend\\\\src\\\\components\\\\DocumentViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentViewer = ({\n  refreshTrigger,\n  onDeleteSuccess\n}) => {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [selectedType, setSelectedType] = useState('MDM');\n  const [message, setMessage] = useState('');\n  const messageTypes = ['MDM', 'OUL', 'ORU'];\n  useEffect(() => {\n    loadDocuments();\n  }, [selectedType, refreshTrigger]);\n  const loadDocuments = async () => {\n    setLoading(true);\n    setMessage('');\n    try {\n      const response = await fetch(`/api/documents/${selectedType}?limit=20`);\n      const result = await response.json();\n      if (result.success) {\n        setDocuments(result.documents);\n        if (result.documents.length === 0) {\n          setMessage(`‚ÑπÔ∏è Nessun documento di tipo ${selectedType} trovato nel database.`);\n        }\n      } else {\n        setMessage(`‚ùå Errore: ${result.error}`);\n        setDocuments([]);\n      }\n    } catch (error) {\n      setMessage(`‚ùå Errore di rete: ${error.message}`);\n      setDocuments([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const deleteDocument = async documentId => {\n    if (!window.confirm('Sei sicuro di voler eliminare questo documento?')) {\n      return;\n    }\n    try {\n      const response = await fetch(`/api/documents/${selectedType}/${documentId}`, {\n        method: 'DELETE'\n      });\n      const result = await response.json();\n      if (result.success) {\n        setMessage(`‚úÖ Documento eliminato con successo`);\n        loadDocuments(); // Ricarica la lista\n        if (onDeleteSuccess) {\n          onDeleteSuccess();\n        }\n      } else {\n        setMessage(`‚ùå Errore nell'eliminazione: ${result.message}`);\n      }\n    } catch (error) {\n      setMessage(`‚ùå Errore di rete: ${error.message}`);\n    }\n  };\n  const getDocumentTitle = doc => {\n    var _doc$patient_identifi, _doc$patient_identifi2, _doc$patient_identifi3, _doc$patient_identifi4, _doc$patient_identifi5;\n    switch (selectedType) {\n      case 'MDM':\n        const patientName = (_doc$patient_identifi = doc.patient_identification) === null || _doc$patient_identifi === void 0 ? void 0 : _doc$patient_identifi.name;\n        return `${(patientName === null || patientName === void 0 ? void 0 : patientName.family_name) || 'N/A'}, ${(patientName === null || patientName === void 0 ? void 0 : patientName.given_name) || 'N/A'}`;\n      case 'OUL':\n        const labPatientName = (_doc$patient_identifi2 = doc.patient_identification) === null || _doc$patient_identifi2 === void 0 ? void 0 : _doc$patient_identifi2.name;\n        return `${(labPatientName === null || labPatientName === void 0 ? void 0 : labPatientName.family_name) || 'N/A'}, ${(labPatientName === null || labPatientName === void 0 ? void 0 : labPatientName.given_name) || 'N/A'}`;\n      case 'ORU':\n        const patientId = (_doc$patient_identifi3 = doc.patient_identification) === null || _doc$patient_identifi3 === void 0 ? void 0 : (_doc$patient_identifi4 = _doc$patient_identifi3.identifiers) === null || _doc$patient_identifi4 === void 0 ? void 0 : (_doc$patient_identifi5 = _doc$patient_identifi4[0]) === null || _doc$patient_identifi5 === void 0 ? void 0 : _doc$patient_identifi5.id_number;\n        return `Paziente: ${patientId || 'N/A'}`;\n      default:\n        return 'Documento';\n    }\n  };\n  const getDocumentSummary = doc => {\n    var _doc$document_header, _doc$document_header2, _doc$patient_visit, _doc$patient_identifi6, _doc$specimens, _doc$specimens2, _firstSpecimen$specim, _doc$patient_identifi7, _doc$observation_repo, _doc$observation_repo2, _doc$observation_repo3, _doc$patient_visit2, _doc$patient_identifi8, _doc$patient_identifi9;\n    switch (selectedType) {\n      case 'MDM':\n        return {\n          'Tipo Documento': ((_doc$document_header = doc.document_header) === null || _doc$document_header === void 0 ? void 0 : _doc$document_header.document_type) || 'N/A',\n          'Data Attivit√†': ((_doc$document_header2 = doc.document_header) === null || _doc$document_header2 === void 0 ? void 0 : _doc$document_header2.activity_datetime) || 'N/A',\n          'Classe Paziente': ((_doc$patient_visit = doc.patient_visit) === null || _doc$patient_visit === void 0 ? void 0 : _doc$patient_visit.patient_class) || 'N/A',\n          'Sesso': ((_doc$patient_identifi6 = doc.patient_identification) === null || _doc$patient_identifi6 === void 0 ? void 0 : _doc$patient_identifi6.administrative_sex) || 'N/A'\n        };\n      case 'OUL':\n        const specimenCount = ((_doc$specimens = doc.specimens) === null || _doc$specimens === void 0 ? void 0 : _doc$specimens.length) || 0;\n        const firstSpecimen = (_doc$specimens2 = doc.specimens) === null || _doc$specimens2 === void 0 ? void 0 : _doc$specimens2[0];\n        return {\n          'Numero Campioni': specimenCount,\n          'Tipo Primo Campione': (firstSpecimen === null || firstSpecimen === void 0 ? void 0 : (_firstSpecimen$specim = firstSpecimen.specimen_type) === null || _firstSpecimen$specim === void 0 ? void 0 : _firstSpecimen$specim.text) || 'N/A',\n          'Data Collezione': (firstSpecimen === null || firstSpecimen === void 0 ? void 0 : firstSpecimen.collection_datetime) || 'N/A',\n          'Sesso': ((_doc$patient_identifi7 = doc.patient_identification) === null || _doc$patient_identifi7 === void 0 ? void 0 : _doc$patient_identifi7.administrative_sex) || 'N/A'\n        };\n      case 'ORU':\n        const observationCount = ((_doc$observation_repo = doc.observation_report) === null || _doc$observation_repo === void 0 ? void 0 : (_doc$observation_repo2 = _doc$observation_repo[0]) === null || _doc$observation_repo2 === void 0 ? void 0 : (_doc$observation_repo3 = _doc$observation_repo2.observations) === null || _doc$observation_repo3 === void 0 ? void 0 : _doc$observation_repo3.length) || 0;\n        return {\n          'Numero Osservazioni': observationCount,\n          'Classe Paziente': ((_doc$patient_visit2 = doc.patient_visit) === null || _doc$patient_visit2 === void 0 ? void 0 : _doc$patient_visit2.patient_class) || 'N/A',\n          'Sesso': ((_doc$patient_identifi8 = doc.patient_identification) === null || _doc$patient_identifi8 === void 0 ? void 0 : _doc$patient_identifi8.administrative_sex) || 'N/A',\n          'Data Nascita': ((_doc$patient_identifi9 = doc.patient_identification) === null || _doc$patient_identifi9 === void 0 ? void 0 : _doc$patient_identifi9.date_of_birth) || 'N/A'\n        };\n      default:\n        return {};\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCCB Visualizzazione Documenti\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Esplora i documenti HL7 convertiti e salvati nel database MongoDB.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginRight: '10px',\n            fontWeight: 'bold'\n          },\n          children: \"Tipo di Messaggio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), messageTypes.map(type => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `nav-button ${selectedType === type ? 'active' : ''}`,\n          onClick: () => setSelectedType(type),\n          style: {\n            marginRight: '10px',\n            marginBottom: '10px'\n          },\n          children: type\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"upload-button\",\n        onClick: loadDocuments,\n        disabled: loading,\n        children: \"\\uD83D\\uDD04 Ricarica Documenti\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `message ${message.includes('‚úÖ') ? 'success' : message.includes('‚ÑπÔ∏è') ? 'info' : 'error'}`,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u23F3 Caricamento documenti...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"documents-grid\",\n      children: documents.map((doc, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"document-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"document-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"document-type\",\n              children: selectedType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '10px 0 5px 0'\n              },\n              children: getDocumentTitle(doc)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              style: {\n                color: '#666'\n              },\n              children: [\"ID: \", doc._id, \" | Inserito: \", new Date(doc._inserted_at).toLocaleDateString('it-IT')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: () => deleteDocument(doc._id),\n            title: \"Elimina documento\",\n            children: \"\\uD83D\\uDDD1\\uFE0F Elimina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '15px'\n          },\n          children: Object.entries(getDocumentSummary(doc)).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '5px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [key, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this), \" \", value]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n          children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n            style: {\n              cursor: 'pointer',\n              fontWeight: 'bold',\n              marginBottom: '10px'\n            },\n            children: \"\\uD83D\\uDCC4 Visualizza JSON Completo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"document-content\",\n            children: JSON.stringify(doc, null, 2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this)]\n      }, doc._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), !loading && documents.length === 0 && !message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: 'center',\n          color: '#666'\n        },\n        children: [\"Nessun documento di tipo \", selectedType, \" trovato. Carica alcuni file HL7 per iniziare.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(DocumentViewer, \"VuFJGnCxD9VtgsRM4MPmeSmXnlQ=\");\n_c = DocumentViewer;\nexport default DocumentViewer;\nvar _c;\n$RefreshReg$(_c, \"DocumentViewer\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","DocumentViewer","refreshTrigger","onDeleteSuccess","_s","documents","setDocuments","loading","setLoading","selectedType","setSelectedType","message","setMessage","messageTypes","loadDocuments","response","fetch","result","json","success","length","error","deleteDocument","documentId","window","confirm","method","getDocumentTitle","doc","_doc$patient_identifi","_doc$patient_identifi2","_doc$patient_identifi3","_doc$patient_identifi4","_doc$patient_identifi5","patientName","patient_identification","name","family_name","given_name","labPatientName","patientId","identifiers","id_number","getDocumentSummary","_doc$document_header","_doc$document_header2","_doc$patient_visit","_doc$patient_identifi6","_doc$specimens","_doc$specimens2","_firstSpecimen$specim","_doc$patient_identifi7","_doc$observation_repo","_doc$observation_repo2","_doc$observation_repo3","_doc$patient_visit2","_doc$patient_identifi8","_doc$patient_identifi9","document_header","document_type","activity_datetime","patient_visit","patient_class","administrative_sex","specimenCount","specimens","firstSpecimen","specimen_type","text","collection_datetime","observationCount","observation_report","observations","date_of_birth","children","className","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","marginRight","fontWeight","map","type","onClick","disabled","includes","index","margin","color","_id","Date","_inserted_at","toLocaleDateString","title","Object","entries","key","value","cursor","JSON","stringify","textAlign","_c","$RefreshReg$"],"sources":["c:/Users/rosar/Desktop/UNISA/Magistrale - Informatica/II semestre/BD2/prog2/frontend/src/components/DocumentViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst DocumentViewer = ({ refreshTrigger, onDeleteSuccess }) => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedType, setSelectedType] = useState('MDM');\r\n  const [message, setMessage] = useState('');\r\n\r\n  const messageTypes = ['MDM', 'OUL', 'ORU'];\r\n\r\n  useEffect(() => {\r\n    loadDocuments();\r\n  }, [selectedType, refreshTrigger]);\r\n\r\n  const loadDocuments = async () => {\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const response = await fetch(`/api/documents/${selectedType}?limit=20`);\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setDocuments(result.documents);\r\n        if (result.documents.length === 0) {\r\n          setMessage(`‚ÑπÔ∏è Nessun documento di tipo ${selectedType} trovato nel database.`);\r\n        }\r\n      } else {\r\n        setMessage(`‚ùå Errore: ${result.error}`);\r\n        setDocuments([]);\r\n      }\r\n    } catch (error) {\r\n      setMessage(`‚ùå Errore di rete: ${error.message}`);\r\n      setDocuments([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteDocument = async (documentId) => {\r\n    if (!window.confirm('Sei sicuro di voler eliminare questo documento?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(`/api/documents/${selectedType}/${documentId}`, {\r\n        method: 'DELETE',\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setMessage(`‚úÖ Documento eliminato con successo`);\r\n        loadDocuments(); // Ricarica la lista\r\n        if (onDeleteSuccess) {\r\n          onDeleteSuccess();\r\n        }\r\n      } else {\r\n        setMessage(`‚ùå Errore nell'eliminazione: ${result.message}`);\r\n      }\r\n    } catch (error) {\r\n      setMessage(`‚ùå Errore di rete: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const getDocumentTitle = (doc) => {\r\n    switch (selectedType) {\r\n      case 'MDM':\r\n        const patientName = doc.patient_identification?.name;\r\n        return `${patientName?.family_name || 'N/A'}, ${patientName?.given_name || 'N/A'}`;\r\n      case 'OUL':\r\n        const labPatientName = doc.patient_identification?.name;\r\n        return `${labPatientName?.family_name || 'N/A'}, ${labPatientName?.given_name || 'N/A'}`;\r\n      case 'ORU':\r\n        const patientId = doc.patient_identification?.identifiers?.[0]?.id_number;\r\n        return `Paziente: ${patientId || 'N/A'}`;\r\n      default:\r\n        return 'Documento';\r\n    }\r\n  };\r\n\r\n  const getDocumentSummary = (doc) => {\r\n    switch (selectedType) {\r\n      case 'MDM':\r\n        return {\r\n          'Tipo Documento': doc.document_header?.document_type || 'N/A',\r\n          'Data Attivit√†': doc.document_header?.activity_datetime || 'N/A',\r\n          'Classe Paziente': doc.patient_visit?.patient_class || 'N/A',\r\n          'Sesso': doc.patient_identification?.administrative_sex || 'N/A'\r\n        };\r\n      case 'OUL':\r\n        const specimenCount = doc.specimens?.length || 0;\r\n        const firstSpecimen = doc.specimens?.[0];\r\n        return {\r\n          'Numero Campioni': specimenCount,\r\n          'Tipo Primo Campione': firstSpecimen?.specimen_type?.text || 'N/A',\r\n          'Data Collezione': firstSpecimen?.collection_datetime || 'N/A',\r\n          'Sesso': doc.patient_identification?.administrative_sex || 'N/A'\r\n        };\r\n      case 'ORU':\r\n        const observationCount = doc.observation_report?.[0]?.observations?.length || 0;\r\n        return {\r\n          'Numero Osservazioni': observationCount,\r\n          'Classe Paziente': doc.patient_visit?.patient_class || 'N/A',\r\n          'Sesso': doc.patient_identification?.administrative_sex || 'N/A',\r\n          'Data Nascita': doc.patient_identification?.date_of_birth || 'N/A'\r\n        };\r\n      default:\r\n        return {};\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"card\">\r\n        <h2>üìã Visualizzazione Documenti</h2>\r\n        <p>Esplora i documenti HL7 convertiti e salvati nel database MongoDB.</p>\r\n\r\n        <div style={{ marginBottom: '20px' }}>\r\n          <label style={{ marginRight: '10px', fontWeight: 'bold' }}>\r\n            Tipo di Messaggio:\r\n          </label>\r\n          {messageTypes.map(type => (\r\n            <button\r\n              key={type}\r\n              className={`nav-button ${selectedType === type ? 'active' : ''}`}\r\n              onClick={() => setSelectedType(type)}\r\n              style={{ marginRight: '10px', marginBottom: '10px' }}\r\n            >\r\n              {type}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <button \r\n          className=\"upload-button\" \r\n          onClick={loadDocuments}\r\n          disabled={loading}\r\n        >\r\n          üîÑ Ricarica Documenti\r\n        </button>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('‚úÖ') ? 'success' : message.includes('‚ÑπÔ∏è') ? 'info' : 'error'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {loading && (\r\n        <div className=\"loading\">\r\n          ‚è≥ Caricamento documenti...\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"documents-grid\">\r\n        {documents.map((doc, index) => (\r\n          <div key={doc._id} className=\"document-card\">\r\n            <div className=\"document-header\">\r\n              <div>\r\n                <span className=\"document-type\">{selectedType}</span>\r\n                <h3 style={{ margin: '10px 0 5px 0' }}>\r\n                  {getDocumentTitle(doc)}\r\n                </h3>\r\n                <small style={{ color: '#666' }}>\r\n                  ID: {doc._id} | \r\n                  Inserito: {new Date(doc._inserted_at).toLocaleDateString('it-IT')}\r\n                </small>\r\n              </div>\r\n              <button\r\n                className=\"delete-button\"\r\n                onClick={() => deleteDocument(doc._id)}\r\n                title=\"Elimina documento\"\r\n              >\r\n                üóëÔ∏è Elimina\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '15px' }}>\r\n              {Object.entries(getDocumentSummary(doc)).map(([key, value]) => (\r\n                <div key={key} style={{ marginBottom: '5px' }}>\r\n                  <strong>{key}:</strong> {value}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <details>\r\n              <summary style={{ cursor: 'pointer', fontWeight: 'bold', marginBottom: '10px' }}>\r\n                üìÑ Visualizza JSON Completo\r\n              </summary>\r\n              <div className=\"document-content\">\r\n                {JSON.stringify(doc, null, 2)}\r\n              </div>\r\n            </details>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {!loading && documents.length === 0 && !message && (\r\n        <div className=\"card\">\r\n          <p style={{ textAlign: 'center', color: '#666' }}>\r\n            Nessun documento di tipo {selectedType} trovato. \r\n            Carica alcuni file HL7 per iniziare.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}